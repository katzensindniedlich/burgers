---
import { theme } from '@config'
import { locales, getLocaleUrl } from '@utils'


const 
    { url } = Astro,
    { lang, description } = Astro.props,
    alternates = locales.filter(entry => entry !== lang)

const schema = {
    "@context": "https://schema.org",
    "@type": "WebSite",
    description: description
}
---


{ theme &&
    <meta 
        name=theme-color 
        content={theme}
    >
}
{ description &&
    <meta
        name=description property=og:description
        content={description}
    >
}
{ (lang !== 'en') &&
    <link 
        rel=alternate 
        hreflang=x-default 
        href={getLocaleUrl(url, 'en')}
    >
}
{ alternates.map(entry => (
        <link 
            rel=alternate 
            hreflang={entry} 
            href={getLocaleUrl(url, entry)}
        >
    ))
}
<meta
    property=og:image
    content={new URL('android-chrome-512x512.png', Astro.site)}
>
<meta 
    name=generator 
    content={Astro.generator}
>
<script
    type=application/ld+json
    set:html={JSON.stringify(schema)}
/>